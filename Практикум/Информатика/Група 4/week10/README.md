# Контролно 1 с оператори

Реализирайте клас Електрически уред, който има следните характеристики:
описание – символен низ с произволна дължина, не може да е празен;
●

- марка – символен низ с произволна дължина, не може да е празен;
- мощност – положително реално число консумиран ток в ампери;
- оператори за сравнение и за сравнение за мощност
- състояние – дали е включен в мрежата или не е (plugged in). При включване се указва къде е включен;
- булева стойност – дали е активен (turned on);
- оператор включване, изключване, проверка дали е изключен
- уникален сериен номер – цяло число без знак. Той трябва да е уникален за всеки уред и след създаване не се променя, дори при присвояване.

Един уред трябва да поддържа като минимум:
●

- извеждане на информацията за уреда в текстов поток;
- прочитане на информацията от текстов поток.
- оператори за четене и писане
  Идентификаторът на уред не се променя при четене. След прочитане уредът не трябва да е включен в мрежата;
- извличане на стойностите на различните полета;
- промяна на описание и марка;

- промяна на мощността – допуска се само, когато уредът не е включен в мрежата;
- промяна на състоянието включване в мрежа – при изключване на уред, той задължително преминава в състояние неактивен (не е turned on);

- промяна на активност – може да мине в състояние активен (turned on), само ако е включен (plugged in). Изключване е възможно винаги. При създаване всеки уред трябва да е изключен и неактивен;

- подходящи методи за осигуряване на валиден жизнен цикъл. При копиране на уред, копието задължително не е включено (не е plugged in).

Реализирайте клас Разклонител, в който:

- можете да включвате определен брой електрически уреди (имате определен брой „гнезда“). Този брой може да е произволен, но се подава при създаване на обекта и след това е непроменим;
- оператор за достъп до уреди
- всеки разклонител има характеристика максимално допустима сила на тока в ампери. Тя определя максимално възможния общ ток от всички включени (turned on) в разклонителя уреди. Ако в даден момент общото натоварване на уредите в разклонителя надвиши този праг, то разклонителят изгаря. Тогава всички уреди в него трябва да се изключат (plugged out) и повече не можем да включваме уреди в него;
- трябва да има методи за включване и изключване на уред. Включване се допуска, когато има свободно гнездо. Изключва се само уред, който е включен в разклонителя;
- метод за извеждане на информацията за разклонителя на стандартния изход. Задължително посочете броя гнезда, максимално допустимия ток, текущо използвания ток и информация за всички включени в разклонителя уреди;
- при копиране на разклонител, полученото копие не трябва да има включени уреди – в получения обект всички „гнезда“ са празни. При присвояване се променят само променимите характеристики (максимален ток и включени уреди). На един разклонител можете да присвоите само такъв с не по-голям брой гнезда.

За да проверите коректността на вашите класове, напишете програма, която прочита от стандартния вход две числа N и I. След това създава разклонител с N гнезда и максимално допустим ток I ампера. Прочетете име на текстов файл и от него заредете данни за електрически уреди – всички записани във файла. (Такъв файл можете да генерирате сами). След това включете първите N в разклонителя и проверете, че не можете да включвате повече. Ако във файла има по-малко от N уреда, създавайте копия на прочетените докато получите повече от N уреда. След това активирайте (turn on) един по един всички включени в разклонителя уреди и следете дали той ще изгори.

Реализирайте клас Book, който описва книга със следните характеристики: име – символен низ с произволна дължина, не може да е празен;

- автор – символен низ с произволна дължина, не може да е празен;
- брой страници – цяло неотрицателно число;
- идентификатор – символен низ със следния формат IS-INF-цццц. Последната част от идентификатора се състои от четири цифри. Идентификаторът е уникален, генерира се при създаването на обекта и не се променя, дори при неговото копиране.
- Оператор за сравнение

За една книга като минимум трябва да поддържате:извеждане на информацията за книга в текстов поток;

- прочитане на информацията от текстов поток. Идентификаторът на книгата не се променя при четене;
- извличане на стойностите на различните характеристики;
- оператор за четене и писане
- промяна на име и автор;
- подходящи методи за осигуряване на валиден жизнен цикъл. При копиране на книга, се копират само променимите характеристики на обектите.
  Едновременно могат да бъдат създадени не повече от 500 книги.

Реализирайте клас Bookshelf, който описва библиотека с определен брой рафтове. Този брой се задава при създаване на библиотеката, след което не се променя. На всеки рафт могат да се поместят толкова книги, че общият им брой страници не трябва да надвишава предварително определен максимален брой.
Във всеки момент една книга може да бъде поставена в не повече от една библиотека. Ако книга е в библиотека, то при извеждане на информация в текстов поток тя трябва да може да изведе на кой рафт и коя подред е на този рафт.

За класа Bookshelf реализирайте следните операции:

- добавяне на книга. Книгата се добавя на най-ниския възможен рафт в библиотеката, на който няма да бъде надвишен максималния брой страници. Ако такъв рафт няма, книгата не се добавя в библиотеката;
- оператор за търсене на книга по име;
- премахване на книга от библиотеката. При тази операция, книгата продължава да съществува;
- оператор за преоразмеряване на всички рафтове на библиотеката (променя се максималният брой страници на рафт). Ако рафтовете се скъсят, то се премахват всички книги, които не се побират на някой рафт.
- Не се предполага копиране на библиотека.

За да проверите коректността на вашите класове, напишете програма, която прочита от стандартния вход две числа N и М. След това създава библиотека с N рафта и максимално допустимо натоварване от М страници на всеки рафт. Прочетете име на текстов файл и от него заредете данни за книги – всички от файла. (Такъв файл можете да генерирате сами). Поставете последователно книгите на рафтовете в библиотеката. Изведете на стандартния изход информация за останалите книги, които не се побират в библиотеката. Проверете дали книгата „Рана“ е сред книгите в библиотеката. Премахнете я от библиотеката.

За всички класове подсигурете пълна гаранция при възникване на изключения (strong exception safety).
Форматът на съхранение на обектите в поток трябва да позволява еднозначно прочитане.
Гарантирайте коректна работа с всички системни ресурси.

# Задача за оператори

1. Направете клас за динамичен масив от цели числа, внимавайте за динамичнаат памет, която ще ползвате
2. Направете функции

- `void insert(int index, int item)`
- `void remove(int index)`
- `int get(int index)`

3. Предефинирайте операторите

- == така че да се сравнява целия масив
- > =, >, <, <= така че да се сравняват лексикографски два масива
- +, - така че да събирате и вадите някакво число от всеки един елемент
- operator<< за извеждане на масив по стрийм
- Предефинирайте [], така че да може да индкесираме като на нормален масив
- Предефинирайте () с аргумент функция която връща число, след това приложете тази функция върху всеки един елемент в масива

4. Направете клас за динамичен сортиран масив от цели числа
5. Пак направете същите функции и предефинирайте 8-те оператора от 3-та подточка
